<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Find Square</title>
    <link rel="icon" type="image/png" sizes="32x32" href="static/favicon/favicon-32.png">
    <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="static/favicon/favicon-180.png">

    <!-- Bootstrap compiled CSS -->
    <link href="/static/css/main.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="/static/css/styles.css" rel="stylesheet">
</head>

<body>
    <div class="container d-flex h-100 p-3 mx-auto flex-column">
        <header class="masthead mb-5">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h3 class="masthead-brand">Square Detector</h3>
                </div>
                <div class="col-md-4 d-flex justify-content-center">
                    <nav>
                        <div class="nav nav-tabs nav-masthead" id="nav-tab" role="tablist">
                            <button class="nav-link active" id="nav-main-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-main" type="button" role="tab" aria-controls="nav-main"
                                aria-selected="true">Main
                            </button>
                            <button class="nav-link" id="nav-settings-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-settings" type="button" role="tab" aria-controls="nav-settings"
                                aria-selected="false">Settings
                            </button>
                            <button class="nav-link" id="nav-about-tab" data-bs-toggle="tab"
                                data-bs-target="#nav-about" type="button" role="tab" aria-controls="nav-about"
                                aria-selected="false">About
                            </button>
                        </div>
                    </nav>
                </div>
            </div>
        </header>
        <main>
            <div class="row align-items-start colf">
                <div class="col-md-8">
                    <div class="mt-3">
                        <img id="image" src="static/images/salt_and_pepper.gif" alt="Image" class="img-fluid">
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="tab-content px-1" id="nav-tabContent">
                        <div class="tab-pane fade show active" id="nav-main" role="tabpanel"
                            aria-labelledby="nav-main-tab">
                            
                            <div class="d-grid mt-3">
                                <button class="btn btn-outline-secondary cstm-btn" id="generate-img-button">Generate
                                    Image
                                </button>
                                <div class="d-flex justify-content-between mt-5">
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio" name="detector" id="RANSAC-radio">
                                        <label class="form-check-label" for="RANSAC-radio">
                                          RANSAC
                                        </label>
                                      </div>
                                      <div class="form-check">
                                        <input class="form-check-input" type="radio" name="detector" id="SquareNet-radio" checked>
                                        <label class="form-check-label" for="flexRadioDefault2">
                                          SquareNet
                                        </label>
                                      </div>
                                </div>
                                <button class="btn btn-outline-secondary cstm-btn mt-4" id="find-square-button">Find
                                    Square
                                </button>
                                
                            </div>
                            <div class="mt-5">
                                <label class="form-label lead">Elapsed time:&nbsp;&nbsp;&nbsp;</label>
                                <span class='lead' id="elapsed-time-indicator"></span>
                            </div>
                            <div class="mt-2" id="fail" style="display: none;">
                                <p class="lead text-start">Failed to find the square. Make another attempt.</p>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="nav-settings" role="tabpanel" aria-labelledby="nav-settings-tab">
                            <div class="mt-3">
                                <label for="square-size" class="form-label lead">Square size&nbsp;&nbsp;&nbsp;</label>
                                <span class='lead' id="square-size-indicator"></span>
                                <input type="range" class="form-range" min="300" max="500" id="square-size">

                                <label for="lines-number" class="form-label lead">Lines number&nbsp;&nbsp;&nbsp;</label>
                                <span class='lead' id="lines-number-indicator"></span>
                                <input type="range" class="form-range" min="1" max="5" id="lines-number">

                                <label for="line-thickness" class="form-label lead">Line thickness&nbsp;&nbsp;&nbsp;</label>
                                <span class='lead' id="line-thickness-indicator"></span>
                                <input type="range" class="form-range" min="10" max="100" id="line-thickness">
                            
                                <label for="ransac" class="form-label lead">RANSAC iterations&nbsp;&nbsp;&nbsp;</label>
                                <span class='lead' id="ransac-indicator"></span>
                                <input type="range" class="form-range" value="1000" min="100" max="100000" id="ransac">
                            </div>
                        </div>
                        <div class="tab-pane fade" id="nav-about" role="tabpanel" aria-labelledby="nav-about-tab">
                            <div class="mt-3">
                                <p class="lead text-start">
                                    This web application evaluates the performance of the RANSAC-based algorithm and SquareNet CNN in accurately identifying shapes with unclear or partially defined edges. Users can choose between the detectors to compare their accuracy and efficiency.
                                </p>
                                <p class="lead text-start">
                                    Please note that the quality of detection and processing time may vary depending on factors such as the number of RANSAC iterations, complexity of the image and the capabilities of the SquareNet CNN.
                                </p>
                                <p class="lead text-start">
                                    Both the RANSAC-based algorithm and SquareNet were designed from scratch.
                                </p>
                                <p class="lead text-start"> 
                                    If you have questions or feedback, please don't hesitate to contact me at:
                                    <a href="mailto:e_grefenshtein@icloud.com">e_grefenshtein@icloud.com</a>
                                </p>
                            </div>
                        </div>

                    </div>
                </div>
        </main>
        <footer class="mastfoot mt-auto">
            <!-- <p>2023</p> -->
        </footer>

    </div>
    <!-- Bootstrap core JavaScript -->
    <script src="static/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- htmx -->
    <script src="static/htmx/htmx.min.js"></script>

    <!-- main.js -->
    <script src="static/js/main.js"></script>
</body>

</html>